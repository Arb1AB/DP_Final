<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard - DPFinal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>DPFinal</h2>
            <button class="close-btn" id="closeSidebar" aria-label="Close sidebar">&times;</button>
        </div>

        <div class="sidebar-content">
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="{{ url_for('dashboard_courses') }}" class="nav-item {% if section == 'courses' %}active{% endif %}">
                            <span class="nav-icon" aria-hidden="true">üìö</span>
                            <span class="nav-text">Courses</span>
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('dashboard_presence') }}" class="nav-item {% if section == 'presence' %}active{% endif %}">
                            <span class="nav-icon" aria-hidden="true">üìä</span>
                            <span class="nav-text">Presence</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <div class="sidebar-footer">
            <div class="user-info">
                <p><strong>{{ user.name }}</strong></p>
                <p class="user-email">{{ user.email }}</p>
                <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
            </div>
        </div>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" tabindex="-1"></div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Header -->
        <header class="top-header">
            <button class="menu-btn" id="menuBtn" aria-label="Open sidebar menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1>Welcome, {{ user.name }}!</h1>
        </header>

        <!-- Content Area -->
        <div class="content-area">
            {% macro subject_card(name) %}
            <div class="subject-card">
                <h4>{{ name }}</h4>
                <a href="{{ url_for('subject_attendance') }}?subject={{ name | urlencode }}" class="check-btn" role="button">Check</a>
            </div>
            {% endmacro %}

            {% if section == 'courses' %}
            <!-- Courses Section -->
            <section id="courses-section" class="content-section active">
                <div class="section-header">
                    <h2>üìö Courses</h2>
                </div>

                <!-- First Year -->
                <div class="year-section">
                    <h3 class="year-title">First Year</h3>
                    <div class="subjects-grid">
                        {{ subject_card('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1') }}
                        {{ subject_card('–î–∏–≥–∏—Ç–∞–ª–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏ —Å–∏—Å—Ç–µ–º–∏') }}
                        {{ subject_card('–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞—ö–µ') }}
                        {{ subject_card('–ê–ø–ª–∏–∫–∞—Ç–∏–≤–µ–Ω —Å–æ—Ñ—Ç–≤–µ—Ä') }}
                        {{ subject_card('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 2') }}
                        {{ subject_card('–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ –∫–æ–º–ø—ò—É—Ç–µ—Ä–∏') }}
                        {{ subject_card('–í–µ–± —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏') }}
                        {{ subject_card('–ù–∞–ø—Ä–µ–¥–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞—ö–µ') }}
                    </div>
                </div>

                <!-- Second Year -->
                <div class="year-section">
                    <h3 class="year-title">Second Year</h3>
                    <div class="subjects-grid">
                        {{ subject_card('–°–∏—Å—Ç–µ–º—Å–∫–∏ —Å–æ—Ñ—Ç–≤–µ—Ä') }}
                        {{ subject_card('–ü–æ–¥–∞—Ç–æ—á–Ω–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∏ –º—Ä–µ–∂–∏') }}
                        {{ subject_card('–ê–ª–≥–æ—Ä–∏—Ç–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏') }}
                        {{ subject_card('–û–±—ò–µ–∫—Ç–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞—ö–µ') }}
                        {{ subject_card('–ë–∞–∑–∏ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏') }}
                        {{ subject_card('–ö–æ–º–ø—ò—É—Ç–µ—Ä—Å–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞') }}
                        {{ subject_card('–ü—Ä–æ–µ–∫—Ç–∏—Ä–∞—ö–µ –∏ –º–µ–Ω–∞—ü–º–µ–Ω—Ç –Ω–∞ –∫–æ–º–ø—ò—É—Ç–µ—Ä—Å–∫–∏ –º—Ä–µ–∂–∏') }}
                        {{ subject_card('–°–æ–ª–∏–¥ –º–æ–¥–µ–ª–∏—Ä–∞—ö–µ') }}
                    </div>
                </div>

                <!-- Third Year -->
                <div class="year-section">
                    <h3 class="year-title">Third Year</h3>
                    <div class="subjects-grid">
                        {{ subject_card('–î–µ–ª–æ–≤–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—Å–∫–∏ —Å–∏—Å—Ç–µ–º–∏') }}
                        {{ subject_card('–ú–∞—Ç–µ–º–∞—Ç–∏—á–∫–æ –º–æ–¥–µ–ª–∏—Ä–∞—ö–µ –∏ –∫–æ–º–ø—ò—É—Ç–µ—Ä—Å–∫–∏ —Å–∏–º—É–ª–∞—Ü–∏–∏') }}
                        {{ subject_card('–ê–Ω–∞–ª–∏–∑–∞ –∏ –ª–æ–≥–∏—á–∫–∏ –¥–∏–∑–∞—ò–Ω –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—Å–∫–∏ —Å–∏—Å—Ç–µ–º–∏') }}
                        {{ subject_card('–ü—Ä–∏–Ω—Ü–∏–ø–∏ –Ω–∞ –º—É–ª—Ç–∏–º–µ–¥–∏—Å–∫–∏ —Å–∏—Å—Ç–µ–º–∏') }}
                        {{ subject_card('–í–µ–± –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞—ö–µ') }}
                        {{ subject_card('–û—Å–Ω–æ–≤–∏ –Ω–∞ –≤–µ—à—Ç–∞—á–∫–∞ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–∞') }}
                        {{ subject_card('–ò–Ω–¥—É—Å—Ç—Ä–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞') }}
                        {{ subject_card('–ù–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∏ –±–∞–∑–∏ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏') }}
                    </div>
                </div>

                <!-- Fourth Year -->
                <div class="year-section">
                    <h3 class="year-title">Fourth Year</h3>
                    <div class="subjects-grid">
                        {{ subject_card('–ë–µ–∑–±–µ–¥–Ω–æ—Å—Ç –Ω–∞ –∫–æ–º–ø—ò—É—Ç–µ—Ä—Å–∫–∏ —Å–∏—Å—Ç–µ–º–∏ –∏ –º—Ä–µ–∂–∏') }}
                        {{ subject_card('–†–æ–±–æ—Ç–∏–∫–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞') }}
                        {{ subject_card('–ü–æ–¥–∞—Ç–æ—á–Ω–æ —Ä—É–¥–∞—Ä–µ—ö–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–∞ –≥–æ–ª–µ–º–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞ –ø–æ–¥–∞—Ç–æ—Ü–∏') }}
                        {{ subject_card('–°–µ—Ä–≤–∏—Å–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∏') }}
                        {{ subject_card('–ë–µ–∑–∂–∏—á–Ω–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏–∏') }}
                        {{ subject_card('–ë–∏–∑–Ω–∏—Å –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ü–∏—ò–∞ –∏ —Å–∏—Å—Ç–µ–º–∏ –∑–∞ –ø–æ–¥–¥—Ä—à–∫–∞ –Ω–∞ –æ–¥–ª—É—á—É–≤–∞—ö–µ') }}
                        {{ subject_card('–ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞—ö–µ –∑–∞ –º–æ–±–∏–ª–Ω–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏') }}
                        {{ subject_card('–°–∏—Å—Ç–µ–º–∏ –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ –∑–Ω–∞–µ—ö–µ') }}
                    </div>

                    <!-- Elective Subjects Section -->
                    <div class="elective-section">
                        <h4 class="elective-title">Elective Subjects</h4>
                        <div class="subjects-grid">
                            {{ subject_card('–ò–Ω–æ–≤–∞—Ü–∏—Å–∫–∏ –º–µ–Ω–∞—ü–º–µ–Ω—Ç') }}
                            {{ subject_card('–§–∏–Ω–∞–Ω—Å–∏—Å–∫–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏') }}
                            {{ subject_card('–ò–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª–µ–Ω –∫–∞–ø–∏—Ç–∞–ª –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç') }}
                            {{ subject_card('–µ-–≤–ª–∞–¥–∞ –∏ –µ-—É–ø—Ä–∞–≤—É–≤–∞—ö–µ') }}
                            {{ subject_card('–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—Å–∫–æ –æ–¥–Ω–µ—Å—É–≤–∞—ö–µ –∏ —Ä–∞–∑–≤–æ—ò') }}
                            {{ subject_card('–ê–Ω–≥–ª–∏—Å–∫–∏ –∑–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ —Ü–µ–ª–∏') }}
                            {{ subject_card('–ê–Ω–≥–ª–∏—Å–∫–∏ —ò–∞–∑–∏–∫ –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏ –≤–µ—à—Ç–∏–Ω–∏') }}
                            {{ subject_card('–î–µ–ª–æ–≤–Ω–∏ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—Å–∫–∏ –≤–µ—à—Ç–∏–Ω–∏') }}
                            {{ subject_card('–ï–∫–æ–Ω–æ–º–∏—ò–∞ –∏ –±–∏–∑–Ω–∏—Å') }}
                            {{ subject_card('–ö–æ–Ω—Ü–µ–ø—Ç–∏ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏—á–∫–æ –æ–ø—à—Ç–µ—Å—Ç–≤–æ') }}
                            {{ subject_card('–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –±–∞–Ω–∫–∞—Ä—Å—Ç–≤–æ') }}
                            {{ subject_card('–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—Å–∫–æ –ø—Ä–µ—Ç–ø—Ä–∏–µ–º–Ω–∏—à—Ç–≤–æ') }}
                            {{ subject_card('–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—ò–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—Å–∫–∞ –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç') }}
                            {{ subject_card('–ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—Å–∫–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏') }}
                            {{ subject_card('–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ–Ω —ò–∞–∑–∏–∫') }}
                        </div>
                    </div>
                </div>
            </section>

            {% elif section == 'presence' %}
            <!-- Presence Section -->
            <section id="presence-section" class="content-section active">
                <div class="section-header">
                    <h2>üìä Presence</h2>
                </div>
                <div id="presenceContent">
                    <p>Select a course and click "Check" on the Courses page to view attendance data here.</p>
                </div>
            </section>
            {% endif %}
        </div>
    </div>

    <script>
        // Sidebar toggle handlers
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const closeSidebarBtn = document.getElementById('closeSidebar');
        const menuBtn = document.getElementById('menuBtn');

        menuBtn.addEventListener('click', () => {
            sidebar.classList.add('active');
            sidebarOverlay.classList.add('active');
        });

        closeSidebarBtn.addEventListener('click', () => {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        });

        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        });
    </script>
</body>
</html>
