<!DOCTYPE html>
<html>
<head>
    <title>Pending Check-ins</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>DPFinal</h2>
            <button class="close-btn" id="closeSidebar">&times;</button>
        </div>
        <div class="sidebar-content">
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="{{ url_for('dashboard') }}" class="nav-item">
                            <span class="nav-icon">üìö</span>
                            <span class="nav-text">Courses</span>
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('presence') }}" class="nav-item">
                            <span class="nav-icon">üìä</span>
                            <span class="nav-text">Presence</span>
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('manual_checkins') }}" class="nav-item active">
                            <span class="nav-icon">‚úÖ</span>
                            <span class="nav-text">Pending Check-ins</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="sidebar-footer">
            <div class="user-info">
                <p><strong>{{ user.name }}</strong></p>
                <p class="user-email">{{ user.email }}</p>
                <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
            </div>
        </div>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <div class="main-content">
        <header class="top-header">
            <button class="menu-btn" id="menuBtn">
                <span></span><span></span><span></span>
            </button>
            <h1>Pending Check-ins</h1>
        </header>

        <div class="content-area">
            <div class="pending-container">
                <div class="pending-header">
                    <h2>Pending Manual Check-ins</h2>
                </div>
                
                {% if pending %}
                    <div class="checkin-list">
                        {% for checkin in pending %}
                            <div class="checkin-item">
                                <strong>{{ checkin[2] }} {{ checkin[3] }}</strong> (ID: {{ checkin[4] }})<br>
                                Course: {{ courses.get(checkin[1], "Unknown") }}<br>
                                Checked in at: {{ checkin[5] }}
                                <div class="checkin-actions">
                                    <a href="{{ url_for('manual_checkin_action', checkin_id=checkin[0], action='approve') }}" class="approve-btn">‚úÖ Approve</a>
                                    <a href="{{ url_for('manual_checkin_action', checkin_id=checkin[0], action='reject') }}" class="reject-btn">‚ùå Reject</a>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="no-pending">No pending check-ins.</p>
                {% endif %}
            </div>
        </div>
    </div>

    <script>
        // Sidebar toggle handlers
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const closeSidebarBtn = document.getElementById('closeSidebar');
        const menuBtn = document.getElementById('menuBtn');

        menuBtn.addEventListener('click', () => {
            sidebar.classList.add('active');
            sidebarOverlay.classList.add('active');
        });

        closeSidebarBtn.addEventListener('click', () => {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        });

        sidebarOverlay.addEventListener('click', () => {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        });
    </script>
</body>
</html>